# ======================================
# Analyzer - Example Environment Variables
# Copy this file to .env and adjust as needed
# ======================================

# --- Queue/Job Timeouts (milliseconds) ---
# Per-job processing timeouts used by processors. Increase for heavy loads.
SYNC_WALLET_TIMEOUT_MS=600000                 # 10 minutes
ANALYZE_PNL_TIMEOUT_MS=300000                 # 5 minutes
ANALYZE_BEHAVIOR_TIMEOUT_MS=300000            # 5 minutes
CALCULATE_SIMILARITY_TIMEOUT_MS=1800000       # 30 minutes
ENRICH_TOKEN_BALANCES_TIMEOUT_MS=1200000      # 20 minutes
DASHBOARD_WALLET_ANALYSIS_TIMEOUT_MS=900000   # 15 minutes

# --- Execution/Processing Knobs ---
SIMILARITY_LAB_MAX_SIGNATURES=500
DASHBOARD_MAX_SIGNATURES=5001
WALLET_SYNC_CONCURRENCY=3
BATCH_PROCESSING_TIMEOUT_MS=1800000           # 30 minutes
FAILURE_THRESHOLD=0.8                         # 0..1
RETRY_ATTEMPTS=1
RETRY_DELAY_MS=2000                           # ms
DASHBOARD_JOB_DEFAULT_TIMEOUT_MINUTES=15

# --- Frontend/WebSocket (optional; used by dashboard) ---
# Uncomment and set if you need to override defaults in the dashboard app
# NEXT_PUBLIC_WEBSOCKET_URL=https://sova-intel.duckdns.org
# NEXT_PUBLIC_SOCKET_TRANSPORTS=polling,websocket
# NEXT_PUBLIC_SOCKET_UPGRADE=true
# NEXT_PUBLIC_SOCKET_NONCE=false
# NEXT_PUBLIC_SOCKET_FORCE_NEW=false

# --- JWT Authentication Configuration ---
# CRITICAL: Generate a secure random secret using: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
# Must be at least 64 characters with high entropy (mix of letters, numbers, symbols)
################# NEVER use the default value below in production! #################
JWT_SECRET=REPLACE_THIS_WITH_SECURE_STRING
JWT_EXPIRES_IN=7d

# Password security enhancement - adds extra randomness to password hashing
# Generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
PASSWORD_PEPPER=REPLACE_THIS_WITH_SECURE_RANDOM_64_CHAR_HEX_STRING_FOR_PASSWORD_PEPPER

# --- Authentication Security Settings ---
AUTH_COOKIE_MODE=false              # Set to 'true' for httpOnly cookie mode (recommended for production)
AUTH_COOKIE_NAME=analyzer.sid       # Cookie name when using cookie mode
AUTH_COOKIE_SECURE=true            # Require HTTPS for cookies (set false for development only)

# --- Frontend Authentication Storage (Dashboard) ---
# Storage mode for authentication tokens in the frontend
# Options: 'cookie' (recommended for production), 'memory' (high security, lost on refresh), 'localStorage' (dev only)
NEXT_PUBLIC_AUTH_COOKIE_MODE=false
NEXT_PUBLIC_AUTH_MEMORY_MODE=false

# --- Security Monitoring & Alerting ---
# Alert thresholds (events per hour)
SECURITY_CRITICAL_THRESHOLD=3
SECURITY_HIGH_THRESHOLD=10
SECURITY_SUSPICIOUS_IPS_THRESHOLD=5
SECURITY_RATE_LIMIT_THRESHOLD=20
SECURITY_FAILED_LOGINS_THRESHOLD=15

# Notification channels (optional)
# SECURITY_WEBHOOK_URL=https://your-webhook-url.com/security
# SMTP_HOST=your-smtp-server.com
# SMTP_PORT=587
# SMTP_USER=alerts@yourcompany.com
# SMTP_PASS=your-email-password
